
<div class="row">
  <div *ngIf="user$ | async as user" class="col-6 offset-3">
    <form #pForm="ngForm" (ngSubmit)="onSubmit(pForm, user)">
      <input name="_id" type="hidden" [(ngModel)]="user._id">
      <div class="form-group">
        <label>First Name</label>
        <input
          [(ngModel)]="user.firstName"
          name="firstName"
          type="text"
          class="form-control"
          required
          >
        <div [hidden]="pForm.controls?.firstName?.valid" class="error-message">
          Wrong data!
        </div>
      </div>
      <div class="form-group">
        <label>Last Name</label>
        <input
          [(ngModel)]="user.lastName"
          name="lastName"
          type="text"
          class="form-control"
          required
          >
        <div [hidden]="pForm.controls?.lastName?.valid" class="error-message">
          Wrong data!
        </div>
      </div>
      <div class="form-group">
        <label>Email</label>
        <input
          [(ngModel)]="user.email"
          name="email"
          type="text"
          class="form-control"
          required
          >
        <div [hidden]="pForm.controls?.email?.valid" class="error-message">
          Wrong data!
        </div>
      </div>
      <div class="form-group">
        <label>Password</label>
        <input
          [(ngModel)]="user.password"
          name="password"
          type="text"
          class="form-control"
          required
          >
        <div [hidden]="pForm.controls?.password?.valid" class="error-message">
          Wrong data!
        </div>
      </div>
      <div class="form-group">
        <label>Role</label>
        <input
          [(ngModel)]="user.role"
          name="role"
          type="text"
          class="form-control"
          required
          >
        <div [hidden]="pForm.controls?.role?.valid" class="error-message">
          Wrong data!
        </div>
      </div>

      <button type="submit" [disabled]="pForm.invalid" class="btn btn-block btn-primary">
        <i class="fas fa-save"></i>
      </button>
    </form>
  </div>
</div>

